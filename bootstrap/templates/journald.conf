# MCProxy: Journald configuration for SD card longevity
# This configures systemd-journald to use volatile (RAM-based) storage
# instead of persistent storage on the SD card.
#
# Benefits:
#   - Reduces SD card write cycles
#   - Extends SD card lifespan on Raspberry Pi
#   - Logs still available until reboot
#
# Trade-offs:
#   - Logs are lost on reboot
#   - Limited log retention based on RAM
#
# For persistent logging, remove this file and run:
#   sudo rm /etc/systemd/journald.conf.d/mcproxy-volatile.conf
#   sudo systemctl restart systemd-journald

[Journal]
# Use RAM-based storage instead of disk
Storage=volatile

# Maximum RAM usage for journal (on 512MB Pi)
RuntimeMaxUse=20M

# Keep at least 10M free for system
RuntimeKeepFree=10M

# Maximum size per journal file
RuntimeMaxFileSize=5M

# Maximum retention time
MaxRetentionSec=1week

# Compress large entries
Compress=yes
